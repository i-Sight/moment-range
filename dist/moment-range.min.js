!function(a,b){"function"==typeof define&&define.amd?define(["moment"],function(c){return a.DateRange=b(c)}):"object"==typeof module&&module.exports?module.exports=b(require("moment")):a.DateRange=b(a.moment)}(this,function(a){function b(b,d){var e,f=b,g=d;1!==arguments.length&&void 0!==d||("object"==typeof b&&2===b.length?(f=b[0],g=b[1]):"string"==typeof b&&(e=b.split("/"),f=e[0],g=e[1])),this.start=null===f?a(-864e13):c(f),this.end=null===g?a(864e13):c(g)}function c(b){return a&&a.isMoment&&a.isMoment(b)?b:a(b)}function d(b,c,d){for(var e=a(this.start);this.contains(e,d);)c.call(this,e.clone()),e.add(1,b)}function e(b,c,d){var e=this/b,f=Math.floor(e);if(f!==1/0){f===e&&d&&f--;for(var g=0;g<=f;g++)c.call(this,a(this.start.valueOf()+b.valueOf()*g))}}var f={year:!0,month:!0,week:!0,day:!0,hour:!0,minute:!0,second:!0};return b.prototype.constructor=b,b.prototype.clone=function(){return a().range(this.start,this.end)},b.prototype.contains=function(a,c){var d=this.start,e=this.end;return a instanceof b?d<=a.start&&(e>a.end||e.isSame(a.end)&&!c):d<=a&&(e>a||e.isSame(a)&&!c)},b.prototype.overlaps=function(a,b){return null!==this.intersect(a,b)},b.prototype.intersect=function(a,c){c="boolean"!=typeof c||c;var d=this.start,e=this.end;return d<=a.start&&(a.start<e||a.start.isSame(e)&&!c)&&e<a.end?new b(a.start,e):a.start<d&&(d<a.end||d.isSame(a.end)&&!c)&&a.end<=e?new b(d,a.end):a.start<d&&d<=e&&e<a.end?this:d<=a.start&&a.start<=a.end&&a.end<=e?a:null},b.prototype.add=function(c,d){return this.overlaps(c,d)?new b(a.min(this.start,c.start),a.max(this.end,c.end)):null},b.prototype.subtract=function(a){var c=this.start,d=this.end;return null===this.intersect(a)?[this]:a.start<=c&&c<d&&d<=a.end?[]:a.start<=c&&c<a.end&&a.end<d?[new b(a.end,d)]:c<a.start&&a.start<d&&d<=a.end?[new b(c,a.start)]:c<a.start&&a.start<a.end&&a.end<d?[new b(c,a.start),new b(a.end,d)]:c<a.start&&a.start<d&&a.end<d?[new b(c,a.start),new b(a.start,d)]:void 0},b.prototype.toArray=function(a,b){var c=[];return this.by(a,function(a){c.push(a)},b),c},b.prototype.by=function(a,b,c){return"string"==typeof a?d.call(this,a,b,c):e.call(this,a,b,c),this},b.prototype.toString=function(){return this.start.toISOString()+"/"+this.end.toISOString()},b.prototype.valueOf=function(){return this.end-this.start},b.prototype.center=function(){var b=this.start+this.diff()/2;return a(b)},b.prototype.toDate=function(){return[this.start.toDate(),this.end.toDate()]},b.prototype.isSame=function(a){return this.start.isSame(a.start)&&this.end.isSame(a.end)},b.prototype.diff=function(a){return this.end.diff(this.start,a)},b.extend=function(a){return a.range=function(c,d){return c in f?new b(a(this).startOf(c),a(this).endOf(c)):new b(c,d)},a.range.constructor=b,a.fn.range=a.range,a.fn.within=function(a){return a.contains(this._d)},a},b.extend(a),b});