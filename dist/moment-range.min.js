function DateRange(t,e){var n,a=t,r=e;(1===arguments.length||void 0===e)&&("object"==typeof t&&2===t.length?(a=t[0],r=t[1]):"string"==typeof t&&(n=t.split("/"),a=n[0],r=n[1])),this.start=moment(null===a?-864e13:a),this.end=moment(null===r?864e13:r)}function _byString(t,e,n){for(var a=moment(this.start);this.contains(a,n);)e.call(this,a.clone()),a.add(1,t)}function _byRange(t,e,n){var a=this/t,r=Math.floor(a);if(r!==1/0){r===a&&n&&r--;for(var s=0;r>=s;s++)e.call(this,moment(this.start.valueOf()+t.valueOf()*s))}}const moment=require("moment"),INTERVALS={year:!0,month:!0,week:!0,day:!0,hour:!0,minute:!0,second:!0};DateRange.prototype.constructor=DateRange,DateRange.prototype.clone=function(){return moment().range(this.start,this.end)},DateRange.prototype.contains=function(t,e){var n=this.start,a=this.end;return t instanceof DateRange?n<=t.start&&(a>t.end||a.isSame(t.end)&&!e):t>=n&&(a>t||a.isSame(t)&&!e)},DateRange.prototype.overlaps=function(t,e){return null!==this.intersect(t,e)},DateRange.prototype.intersect=function(t,e){e="boolean"==typeof e?e:!0;var n=this.start,a=this.end;return n<=t.start&&(t.start<a||t.start.isSame(a)&&!e)&&a<t.end?new DateRange(t.start,a):t.start<n&&(n<t.end||n.isSame(t.end)&&!e)&&t.end<=a?new DateRange(n,t.end):t.start<n&&a>=n&&a<t.end?this:n<=t.start&&t.start<=t.end&&t.end<=a?t:null},DateRange.prototype.add=function(t,e){return this.overlaps(t,e)?new DateRange(moment.min(this.start,t.start),moment.max(this.end,t.end)):null},DateRange.prototype.subtract=function(t){var e=this.start,n=this.end;return null===this.intersect(t)?[this]:t.start<=e&&n>e&&n<=t.end?[]:t.start<=e&&e<t.end&&t.end<n?[new DateRange(t.end,n)]:e<t.start&&t.start<n&&n<=t.end?[new DateRange(e,t.start)]:e<t.start&&t.start<t.end&&t.end<n?[new DateRange(e,t.start),new DateRange(t.end,n)]:e<t.start&&t.start<n&&t.end<n?[new DateRange(e,t.start),new DateRange(t.start,n)]:void 0},DateRange.prototype.toArray=function(t,e){var n=[];return this.by(t,function(t){n.push(t)},e),n},DateRange.prototype.by=function(t,e,n){return"string"==typeof t?_byString.call(this,t,e,n):_byRange.call(this,t,e,n),this},DateRange.prototype.toString=function(){return this.start.format()+"/"+this.end.format()},DateRange.prototype.valueOf=function(){return this.end-this.start},DateRange.prototype.center=function(){var t=this.start+this.diff()/2;return moment(t)},DateRange.prototype.toDate=function(){return[this.start.toDate(),this.end.toDate()]},DateRange.prototype.isSame=function(t){return this.start.isSame(t.start)&&this.end.isSame(t.end)},DateRange.prototype.diff=function(t){return this.end.diff(this.start,t)},moment.range=function(t,e){return t in INTERVALS?new DateRange(moment(this).startOf(t),moment(this).endOf(t)):new DateRange(t,e)},moment.range.constructor=DateRange,moment.fn.range=moment.range,moment.fn.within=function(t){return t.contains(this._d)},module.exports=DateRange;